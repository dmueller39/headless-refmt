<html>

<head></head>

<body>
    <script src="../bucklescript.js"></script>
    <script src="./bundle.js"></script>
    <script>
        const source = `
        let mathOperation = (num1, op, num2) => switch op {
            | "+" => num1 + num2
            | _ => 0
        }
`;

        const resultString = headlessRefmt(source, ocaml);
        const result = JSON.parse(resultString);

        if (result.js_code != null) {
            console.log(result.js_code);
        } else {
            console.log(result);
        }

    </script>
    <script>
        // Generated by BUCKLESCRIPT VERSION 1.9.2, PLEASE EDIT WITH CARE
        'use strict';

        var exports = {};
        function theMethod(a) {
            return a;
        }

        exports.theMethod = theMethod;
        /* No side effect */

        var testCases = [
            { arguments: [1], result: 1 },
            { arguments: ["a"], result: "a" },
        ];

        var func = theMethod;

        testCases.forEach(function (testCase) {
            console.log(testCase);
            console.log(func.apply(null, testCase.arguments));
            console.log(func.apply(null, testCase.arguments) == testCase.result);
        });
    </script>
</body>

</html>